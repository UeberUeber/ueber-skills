# 에이전트 프롬프트 템플릿

## 목차

- [Part 1 Step 3: 독립 발산](#step-3-독립-발산)
- [Part 1 Step 4: 교차 수분 (Teams)](#step-4-교차-수분-teams)
- [Part 1 Step 5: 개인 통합](#step-5-개인-통합)
- [Part 1 Step 6: 독립 평가](#step-6-독립-평가)
- [Part 2 Step 3: 개발 (Teams)](#part-2-step-3-개발-teams)
- [Teams 라이프사이클](#teams-라이프사이클)

---

## Step 3: 독립 발산

독립 Task 3개 병렬. Teams 아님.

```
Task(
  subagent_type="general-purpose",
  prompt="""
[페르소나]: {이름/역할}
- 인지 스타일: {어떻게 생각하는가}
- 지식 영역: {뭘 아는가}
- 관점: {뭘 최적화하는가}

[문제]:
- 현상: {뭐가 문제인가}
- 이해관계: {왜 중요한가}
- 목표 상태: {해결 기준}
- 불변 제약: {못 바꾸는 것}
- 열린 공간: {바꿀 수 있는 것}

[Verbalized Sampling]:
아이디어를 생성할 때, 각 아이디어 옆에 "이 아이디어가 나올 확률"을 %로 표시하세요.
높은 확률(>20%)의 아이디어는 뻔한 답일 가능성이 높습니다.
낮은 확률(<5%)의 아이디어를 의도적으로 더 많이 포함하세요.

[지시]:
당신은 {페르소나 이름}입니다. 아래 4단계로 아이디어를 생성하세요.
판단하지 마세요. 좋다/나쁘다 평가 없이 생성만 합니다.

1단계 — 자유 생성: 떠오르는 대로 5개
2단계 — 반대 방향: 위 5개와 완전히 다른 방향으로 5개
3단계 — 7개 기법 강제 적용: 1-2의 10개에 아래 기법을 전부 적용
  - SCAMPER: 대체/결합/적용/변형/전용/제거/역전
  - 조합 분해: 부품으로 쪼개고 조합 변경
  - TRIZ: "A를 좋게 하면 B가 나빠지는" 모순을 찾고, 모순 자체를 깬다
  - Provocation: 말도 안 되는 전제에서 시작해서 쓸 만한 걸 뽑는다
  - Assumption Reversal: 당연한 가정을 뒤집어본다
  - Worst Possible Idea: 최악의 답을 만들고 뒤집어서 통찰
  - Exaptation: 원래 용도와 완전히 다른 용도로 전환
4단계 — 메타 생성: 1-3의 전부를 보고 영감받은 5개 + 완전히 다른 5개

결과를 번호 매겨서 전부 나열하세요.
"""
)
```

---

## Step 4: 교차 수분 (Teams)

TeamCreate 후 3명 스폰. SendMessage로 서로 반응.

```
Task(
  name="{페르소나명}",
  team_name="bs-{키워드}",
  subagent_type="general-purpose",
  prompt="""
[역할]: 교차 수분 에이전트
[페르소나]: {이름/역할}
- 인지 스타일: {어떻게 생각하는가}
- 지식 영역: {뭘 아는가}
- 관점: {뭘 최적화하는가}

[전체 아이디어 (Step 3 결과)]:
{90-120개 아이디어 전체 목록}

[클러스터]:
{Step 3.5 클러스터링 결과}

[모순 쌍]:
{서로 모순되는 아이디어 쌍 목록}

[Verbalized Sampling]:
새 아이디어를 낼 때 생성 확률(%)을 함께 표시하세요.

[지시]:
1. 전체 아이디어를 읽고 자기 전문성 관점에서 반응하세요
2. 교차 조합: 다른 사람의 아이디어 + 내 전문성 → 새 아이디어
   예: B의 "UI 제거" + A의 "프로그레스 바" → "대시보드가 프로그레스 바 역할"
3. 비판적 빌드업: "좋은데 X가 약해. 내 분야에서는 Y로 보완 가능"
   까는 게 아니라 보완하는 것
4. 모순 쌍을 풀어보세요 — 정반대 아이디어가 동시에 성립하는 방법은?
5. 새 아이디어가 나오면 SendMessage로 다른 팀원에게 공유
6. 다른 팀원의 메시지를 받으면 거기서 더 발전시키세요 (연쇄 반응)
7. 더 이상 새 아이디어가 안 나오면 팀 리드에게 완료 보고
"""
)
```

---

## Step 5: 개인 통합

독립 Task 3개 병렬. Teams 아님.

```
Task(
  subagent_type="general-purpose",
  prompt="""
[페르소나]: {이름/역할}
- 인지 스타일: {어떻게 생각하는가}
- 지식 영역: {뭘 아는가}
- 관점: {뭘 최적화하는가}

[내 원래 아이디어 (Step 3)]:
{이 페르소나의 Step 3 결과}

[교차 수분 결과 (Step 4)]:
{Step 4 전체 대화 + 새 아이디어}

[Verbalized Sampling]:
새 아이디어를 낼 때 생성 확률(%)을 함께 표시하세요.

[지시]:
교차 수분에서 다른 사람의 아이디어를 봤습니다. 이제 혼자서 소화하세요.

1. 통합: 교차 수분에서 본 남의 아이디어와 내 전문성을 합쳐 새 솔루션
2. 빈 곳 채우기: 전체 아이디어를 보고 아직 아무도 안 건드린 영역 찾아 채우기
3. 마지막 발산: 전부 다 본 상태에서 완전히 새로운 아이디어 시도

결과를 번호 매겨서 전부 나열하세요.
"""
)
```

---

## Step 6: 독립 평가

독립 Task 3개 병렬. Teams 아님.

```
Task(
  subagent_type="general-purpose",
  prompt="""
[페르소나]: {이름/역할}
- 인지 스타일: {어떻게 생각하는가}
- 지식 영역: {뭘 아는가}
- 관점: {뭘 최적화하는가}

[방향 목록]:
{3-5개 방향. 각 방향마다: 핵심 한 줄, 대표 아이디어 2-3개, 강점, 리스크}

[문제 (Step 1)]:
- 목표 상태: {해결 기준}
- 불변 제약: {못 바꾸는 것}

[평가 기준]:
1. 문제 적합성 — 목표 상태에 얼마나 맞나
2. 독창성 — 기존에 없던 접근인가
3. 실현 가능성 — 불변 제약 안에서 가능한가
4. 확장성 — 이 방향이 다른 문제에도 쓸 수 있나

[지시]:
각 방향을 위 4가지 기준으로 독립 평가하세요.
당신의 전문성 관점에서 점수(1-5)와 근거를 제시하세요.
다른 평가자의 결과를 보지 마세요.

출력 형식:
### 방향 {N}: {방향 이름}
- 문제 적합성: {점수}/5 — {근거}
- 독창성: {점수}/5 — {근거}
- 실현 가능성: {점수}/5 — {근거}
- 확장성: {점수}/5 — {근거}
- 종합 의견: {한 줄}
"""
)
```

---

## Part 2 Step 3: 개발 (Teams)

TeamCreate 후 협력자 스폰. SendMessage로 협업.

```
Task(
  name="{역할명}",
  team_name="build-{키워드}",
  subagent_type="general-purpose",
  prompt="""
[미션]: {한 문장 핵심 임무}

[산출물 정의]:
- 산출물: {뭘 만드나}
- 핵심 메커니즘: {문제를 어떻게 푸나}
- 완성 기준: {어디까지 만들면 끝}
- 제약: {기술/시간/리소스}
- 자유도: {자유로운 부분}

[역할]: {전문성, 담당 범위}

[동료]:
- {팀원1 name}: {역할 요약}
- {팀원2 name}: {역할 요약}

[담당]:
1. {구체적 할 일 1}
2. {구체적 할 일 2}

[산출물]: {만들어야 할 결과물}

[협업 규칙]:
- 다른 팀원에게 영향 주는 결정 → SendMessage로 확인
- 블로킹 → 팀 리드에게 보고
- 완료 → 산출물 요약 + 팀 리드에게 보고
"""
)
```

---

## Teams 라이프사이클

### 생성

```
TeamCreate(team_name="{prefix}-{키워드}")
```

prefix 규칙:
- Part 1 교차 수분: `bs-{키워드}`
- Part 2 개발: `build-{키워드}`

### 팀원 스폰

TeamCreate 직후 Task 호출로 팀원 생성. 모든 팀원에 `team_name` 지정.

### 팀 리드 역할 (메인 Claude)

- 팀 생성 + 팀원 스폰
- 블로킹 이슈 중재
- 진행 상황 모니터링
- 직접 구현하지 않음 — 조율자 역할에 집중

### 종료

1. 모든 팀원 작업 완료 확인
2. SendMessage(type="shutdown_request") to 각 팀원
3. TeamDelete

### 실패 처리

팀원 블로킹 시:
1. 팀 리드에게 SendMessage로 보고
2. 팀 리드가 해결책 제시 또는 다른 팀원에게 재할당
3. 3회 시도 후 해결 안 되면 유저에게 보고
